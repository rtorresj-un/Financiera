---
title: "Parcial 1 - Econometría Financiera"
subtitle: "Raúl Esteban Torres Jiménez & Juanita Cortés Arroyo"
output: pdf_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
library(ggplot2); library(ggfortify); library(quantmod); library(gridExtra); library(forecast); library(cowplot); library(urca)  
```
\begin{itemize}
    \item Obtenga datos diarios y mensuales de cualquier índice accionario de bolsa para un periodo no inferior a 20 años. Con esta información realice los siguientes análisis:
    \begin{enumerate}
    \item Discuta qué mide el índice accionario elegido y realice un análisis estadístico del mismo y de sus retornos.
        
El índice accionario \textbf{FTSE100} es un índice de capitalización ponderado de las 100 acciones más capitalizadas que se transan en la \textit{London Stock Exchange}. Este índice sirve como referencia para medir en promedio el rendimiento de las empresas británicas más importantes y está constituido por HSBC, Standard Chatered, Unilever, Glencore, entre otras.

\item ¿Es el mercado accionario elegido eficiente? Use diferentes horizontes de tiempo y pruebe la hipótesis considerando sus diferentes formas. Discuta los resultados.
        
  \end{enumerate}
\end{itemize}

En primer lugar, obtenemos los datos de precios de cierre de los últimos 5 años S\&P500 Index de Yahoo Finance según las frecuencias requeridas, es decir, diaria, mensual y semanal.

```{r , message=FALSE, warning=FALSE, results='hide'}
getSymbols('^FTSE',from = "1985-01-01", to = "2021-04-29", periodicity = "daily")
UK_d_p <- Cl(FTSE)
getSymbols('^FTSE', from = "1985-01-01", to = "2021-04-29", periodicity = "monthly")
UK_m_p <- Cl(FTSE)
```

Luego, procedemos a calcular los retornos continuos de los precios para cada serie.

```{r}
diario <- as.data.frame(UK_d_p)
n1 = nrow(UK_d_p)
dias=seq(as.Date("1985-01-01"), as.Date("2021-04-29"), by = "day")
UK_d_rc = log(diario[2:n1,1]) - log(diario[1:(n1 - 1),1])
UK_d_rc<-zoo(UK_d_rc, dias)
```

```{r}
mensual <- as.data.frame(UK_m_p)
n2 = nrow(UK_m_p)
meses=seq(as.Date("1985-01-01"), as.Date("2021-04-29"), by = "month")
UK_m_rc = log(mensual[2:n2,1]) - log(mensual[1:(n2 - 1),1])
UK_m_rc<-zoo(UK_m_rc, meses)
```

Al graficar los dos tipos de retornos y compararlos con los precios observamos que a diferencia de los precios, los retornos fluctúan alrededor de una media de cero, sin tener una volatilidad constante.

```{r echo=FALSE, fig.pos='h', out.height='5in'}
grid.arrange(
autoplot(UK_d_p) + ggtitle("Precios diarios de FTSE100 Index"),
autoplot(UK_d_rc) + ggtitle("Log-retornos diarios de FTSE100 Index") + ylab('')+ xlab(''),
nrow= 2)
```

```{r echo=FALSE, fig.pos='h', out.height='5in'}
grid.arrange(
autoplot(UK_m_p) + ggtitle("Precios mensuales de FTSE100 Index"),
autoplot(UK_m_rc) + ggtitle("Log-retornos mensuales de FTSE100 Index") + ylab('')+ xlab(''),
nrow= 2)
```






